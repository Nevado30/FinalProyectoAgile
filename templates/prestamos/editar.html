{% extends "base.html" %}

{% block content %}
<div class="container">
  <h1 class="page-title">Editar préstamo</h1>

  {% if tiene_pagados %}
    <div class="alert alert-warning">
      Este préstamo tiene pagos registrados. Se actualizarán datos generales;
      <strong>no</strong> se recalcularán cuotas.
    </div>
  {% else %}
    <div class="alert">Se recalcularán todas las cuotas al guardar.</div>
  {% endif %}

  <form method="post" class="form-card">
    {% csrf_token %}

    <div class="form-row">
      <div class="form-group">
        <label for="{{ form.banco.id_for_label }}">Banco</label>
        {{ form.banco }}
      </div>
      <div class="form-group">
        <label for="{{ form.monto_total.id_for_label }}">Monto total</label>
        {{ form.monto_total }}
      </div>
    </div>

    <div class="form-group">
      <label for="{{ form.descripcion.id_for_label }}">Descripción</label>
      {{ form.descripcion }}
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="{{ form.tasa_interes.id_for_label }}">Tasa de interés (%)</label>
        {{ form.tasa_interes }}
      </div>
      <div class="form-group">
        <label for="{{ form.fecha_inicio.id_for_label }}">Fecha de inicio</label>
        {{ form.fecha_inicio }}
      </div>
      <div class="form-group">
        <label for="{{ form.cuotas_totales.id_for_label }}">Cuotas totales</label>
        {{ form.cuotas_totales }}
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="{{ form.moneda_prestamo.id_for_label }}">Moneda del préstamo</label>
        {{ form.moneda_prestamo }}
      </div>
      <div class="form-group">
        <label for="{{ form.moneda_pago.id_for_label }}">Moneda de pago/visualización</label>
        {{ form.moneda_pago }}
      </div>
    </div>

    <div class="form-actions">
      <a href="{% url 'prestamos:lista' %}" class="btn btn-secondary">Cancelar</a>
      <button type="submit" class="btn btn-primary">Guardar cambios</button>
    </div>
  </form>
</div>
{% endblock %}
